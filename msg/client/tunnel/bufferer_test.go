package tunnel

// func TestRecvBuffer_Close(t *testing.T) {
// env := newTunnelEnv(utils.NewEmptyConfig())
// channels := newTunnelChannels()
//
// stream, worker := NewRecvBuffer(env, channels)
//
// _, tunnel := newTestTunnel(uuid.NewV4(), 0, uuid.NewV4(), 1, false)
// defer tunnel.Close()
//
// assert.Equal(t, TunnelFailure, tunnel.state.Get())
// }
//
